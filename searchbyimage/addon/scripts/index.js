!function(A){var t={};function e(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return A[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}e.m=A,e.c=t,e.d=function(A,t,n){e.o(A,t)||Object.defineProperty(A,t,{enumerable:!0,get:n})},e.r=function(A){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(A,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(A,"__esModule",{value:!0})},e.t=function(A,t){if(1&t&&(A=e(A)),8&t)return A;if(4&t&&"object"==typeof A&&A&&A.__esModule)return A;var n=Object.create(null);if(e.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:A}),2&t&&"string"!=typeof A)for(var r in A)e.d(n,r,function(t){return A[t]}.bind(null,r));return n},e.n=function(A){var t=A&&A.__esModule?function(){return A.default}:function(){return A};return e.d(t,"a",t),t},e.o=function(A,t){return Object.prototype.hasOwnProperty.call(A,t)},e.p="",e(e.s=1)}([,function(A,t,e){const n=e(2);var r=document.createElement("canvas");r.width=128,r.height=128,document.body.appendChild(r);var o=new Image;o.addEventListener("load",()=>{r.width=o.width,r.height=o.height,r.getContext("2d").drawImage(o,0,0)}),o.src="data:image/jpeg;base64,/9j/4QI4RXhpZgAATU0AKgAAAAgABAEaAAUAAAABAAAAPgEbAAUAAAABAAAARgEoAAMAAAABAAIAAAITAAMAAAABAAEAAAAAAE4AAABIAAAAAQAAAEgAAAABAAYBAwADAAAAAQAGAAABGgAFAAAAAQAAAJwBGwAFAAAAAQAAAKQBKAADAAAAAQACAAACAQAEAAAAAQAAAKwCAgAEAAAAAQAAAYQAAAAAAAAASAAAAAEAAABIAAAAAf/Y//4AEUxhdmM1Ny4xMDcuMTAwAP/bAEMACAYGBwYHCAgICAgICQkJCgoKCQkJCQoKCgoKCgwMDAoKCgoKCgoMDAwMDQ4NDQ0MDQ4ODw8PEhIRERUVFRkZH//EAGsAAAMBAQEAAAAAAAAAAAAAAAcFBAMGAgEBAQAAAAAAAAAAAAAAAAAAAwIQAAIBAgUDAwUBAAAAAAAAAAIBAwAREjEhBAZRQQUiYRORgUKh0XERAAIDAQEAAAAAAAAAAAAAAAABIQIRAzH/wAARCAAgACADASIAAhEAAxEA/9oADAMBAAIRAxEAPwDv4mN7VZDnlp2pZtrSSECumPWr42P4vLt70Y+mPJnDH4XckTeNqy/dCFnRF5vuSDxJf7lQyUuIUdmk/al5uAOuuwZ0HxXemJ/WvJF8frWSzXWspprYlfXtU6ZSPCy+9GhfBJz6dn4uNx5kf8pBN5/xuy40QjCB7u2FYlqn1WtMOd7hDDt4kV3fVKuCkiDcgQkWHS6q6zhFrY3B/9n//gARTGF2YzU3LjEwNy4xMDAA/9sAQwAIBgYHBgcICAgICAgJCQkKCgoJCQkJCgoKCgoKDAwMCgoKCgoKCgwMDAwNDg0NDQwNDg4PDw8SEhERFRUVGRkf/8QAhQAAAQUBAQEAAAAAAAAAAAAAAwcFBAECBgAIAQADAQEAAAAAAAAAAAAAAAAAAQMCBBAAAgIABQIEBAQEBQUBAAAAAgEDESESADEEUUEiYRMFgXEyBqFCI5HBFFIzYrHRJAfwcpIV8WMRAQEAAwEBAQEBAQAAAAAAAAABAxECITFBBHES/8AAEQgAgACAAwEiAAIRAAMRAP/aAAwDAQACEQMRAD8A7cOM5yGP0xRF/UbaoVf0oVbwwS76kLiyxp+neW0iZ+m3iVKsz7t0sdUTzGLdiCTzNPxY9KqvPQzfGjSb9S667VXT8Fqa9Fi45yt+mOZomL+lWxxfeu+ielKEbJRZ7ESpkNUaJpt7r6X8tejFToSj9RiSTwfib23WFV8dVLw47QkzEuzJ38MHjo8Hr0UPJTAZhigIiadFnRUls180/PtopwEgLMrHxIrfYFZYb4LWskYxrKFIX/UTV9Vez16SSk0RCoxu7dNYb5v+r0h6qfgjcTJ0UVnlUjWCHHPjRKuzvHUslxxhN5pPUDcEKLHonoftr4/uccpxSthFgeVtk01v5rDRwgEpMsMmYSG/H4cV89MMA2hTNZbX0ven30N7J21lxw1sY0V4vpqbxPbI5hz+snbxEViPk8dL6LdG813R791pL/uU2Xuku/hpW+/fS1r2WNA0pCb7WlXx0iv3TGcPvXNiNojCSmxvL9KdK+2qY5dpZepeTO3rF1rT1jVnOu9Ves3qmWkeiusCNv1EwTS2qm/lWHw1cXF40WI5szp2pTVNeSaT0JTTSX/txAaX6pNRUKx3Wc2V7C1eOGo0vIUcwjI2k/zZSy32RN5Covksdczt3s7Cn+X9631pZD+p5crWKbvN5VqGcZOskmQavCJtrrlvN/HROMUTkyTSk49mhC8e5NYP9lo0HpuXzVK4+NFCoY/qkmkLxMt1HGIu8N2Twerk4vG5GRSRqUd2B4h+yrRuVLCEglFIGUyYgvz0qVEBUV6k+oEbAgETWRZk9szVFgv4aNFaxxnHCpA40DiVISYAhHKsUNqnS7a0yIk3defy1YRnIJGLEEipZpQFf+JeLXhFGSFVa3JFYvQSwchJZRTfROr1K4r5QnlAfSLu3VfHQYLjEiaaoqvRxkHKiIy8ToklbS63ogvp3OYeNHLKcmZ5LpkkNith6W9fPnunMk53P5fJl/uSzmRVsndUvJbaWD3KSKOGXBklG2mqssNldK9IpMWaaV9ZCf7vVuEMs16pvWW9U3rN6omvVPVXr2gyqFNBM5DgIpoilaiO3lMVhdOqrySxx0f+ZRi42EcbaJNAGYmq8WYmui+C76w+CREIBmWWmxVZjF9gWWkvPtvrMkcfGjOUphivD1DIcwpustmwzN7V11yuuNwlJGhEn4CdRyPBF/8Am2t2uz798dSYiILEY8+Zu/CLe1rJjt2a+OgMI5hQYkGWhvLtd3htW+Dvz0biGcGaGQBPJeSbGiF9qwox7iSWGOgABEUUpGfGkBkP978zpbK06+WpgL18qxRiGKdWS3bHbFdNaUbACkpn/VTFK+vbftWslmwS7VS77aZdPNTgSUZDIKX50kX4b4ddSQYV4l4vLpoI+obSKLLSeIvNfQiwTXwvR1xzv9QkGXs8H5pLvpbJsCHkKhRD3plaKu9dsNekJRFX1p38KX8dAuv1IaJAWKWPz/8Amtkmd+dX8Un+/bT0aF71MPF4ExD4aB5bbsE9ne+Cx0j9t227vG+vnpUPujkOL2/lZgRMwbHHARXhWPelpKYpPUNBaHzbpapiTyzcEeqvUnkcT0RRZ0S1F1VDS9evVarS2eiscmf+SjL1gZmsqXoJuMBqreA2rpJoUleOgCzCU4uVPx2MquCFiWZN/SKlxEm3t/lqTzPb5jkHJNEmlijXqI3+Vm0S8K6ba5f3jjc/2tnPNy+dyJJzFAuKcMHEy5/7ZooZJIhQ3+pnJvqtczrjtz9C/wBMXGsiSbLORFVPpTfTVzQDOCD0v1BVgxv1LTw2/fG1oHtQ3A0lKxwIAlfjjtfQ914VWKfidvUwUEwGDklB+ISKMqNdd0k1230y36FBLNIDhnBxSC0iFpiiVeElaxT/AAejkiiiKS/pwy4snf8AShTLDv21A9x9WGICi5BH6RZv1CEUCS3lZtrK6p5bLotB4vPn94i/2bGIa8cxOztumMItY7WJvwV1ejRnIU/r8QYK73a7J6FJKUjfjJsW6InsxWyT7dNHkIckYscxA/qbaKvOsH8dWdchCmMYEhtZfqZdr7PWdAOAxjGYwDKzazNCu+Ft9d0qWC1ozNqMhJdsFvvvhofpNPGn8mlj11tSBGRLLjlfbb5a0DF92kv/AFM+USZtDZLHKON30T/z0jnuCjDKyTeOGOlW+9JI4+AIrMnKSSSKtu7HvWk05/DE4nJKWQV11XGjm61dBcXmFLQW8q6vUvPpn9vGyaHbTmtbTg16ptaETaWh+pWla3zyWyE419Q5kf8AjY28EjbykTXla+eoykGRzRyQGgzUGZgamT/pSzY7XmpVi3o7SBD6iWI0GyT8+mjcdjEIEKSEXjhmx3xT69331GxX8SOMxAcqzLL1aoVVZF2dfF61JMxGxL1KzJI0qx/xeXZPbQCP1FeVVeKW1voumhso02FZSGvotNP5fjpfhBRcKKbKfPMOVOkmo1/YDCkkH5mv6j77LW5wKAhmhFCxwdLDI9xpfh56KbfqR0GWk7lNtn574eJ0/hrL5E2e6lMCHIry5m81NvxpZV8n89NpRzDyIROF2pB/Ms1U8US8Lu+2GjRJqO6FNOxNvxCXaxRY49tNpEfBnZAhkjl+sFdg78Mg4Kn1XfU4SSrYm8Uxr6Xja64aAk0UhJkvm8P30JhbbrxLZ+V7/Ly1KKThhkpzfTsKWLrYjJv8FqJDyzzN4I/o2WLPbDo+2jQcj98SxxqC6P6DoaaFFdK1+Z1t0x1wHMkg57qSk+w3TXy12f32ooJI4Y0Iq7JIWvFWNvZ08MNJhzyaldPVcXyoZvenVfbv27HNOyln9PjjTJusz/wjju+vbSi8T7X9hkhqKJGy3MnmL4W8NcD9lfb/ALh9xRHLLzVxuGDYUsZjJL8nZCu5O/JaUb2T7ffs54cyTkh29SrX7Jaxl61fK6MGOXj2eoE3/GnBlzMZpRvZJ4L5YPXL/cP2Zx/t/ilyZ+fheWOPImchvZLb4vtpX1KAAyN0hVtvtWkF++vuMfe/dz9M0UHH/Sip2LafiJfN6eO3uyFmnOPm3X+QrwJsMRGo6RM6wzbdfN/jonG4VSo2jak8AR5czbW7VNZcMelallCuUxpQRohMiLsGW6Ii7UKrDDFaDNylx16PGTyZaOU1RSdUK/IHl376j9L8YKmyQmiIUszHEU12TwTy9yWGhjGxkZovE2njhXnm/wBdYEpDdZhSaorWLEca/wC1JL9tUbROqrxLBt41jdYPDetbhfRkanLOR44qkDy0tsppZX8a+OtRnvYLLVIu9efz8tCJs0IxxTSmk/Vboaxwyi3maWCfd461wxml8AxGZY5hebFLd4t7dloCi9CIiNrNY4dvK2+iffUPjSDwz/Ucb45HSdtuM3jWKpBjjjpyKaCMGpAFuS8qJrFCsW/PDBfHTPyOAuX4amECq4opSrbEiFJPO/no/DlTpuXA5BKbLHkSZwVYMnf6iQ0dNYjfXy1P9WTlcOHlRxQyXM0qWXwDtl/MiE1WOudjMOIUXGMdhKPjnK22x7iaxtKlTbvT9wQXH9v48MZKV55aT3zlyGVu+ixVdtsNLbRO/wDkSVye42rQsiaRKmm6vD56TnlxMi20of8AyHFLD7oAmCGwZDlToleJ3VO3e165BinutU5uoj3r/pJ+2veOT7QOUW8lvD576U/2b7gi5sY2Xi0ktVqZwudJwpMwt/LWO+N7qmLPq6vwqH3d7qovZeTlNgyiJWt8Vr5345U27x13P3D77Ny+G47aVO/21wsQMHqv88s3tj+yyzmR9QnOHHExNCmaEXQoMMbTHZXeOy1kVLMnIxEhHw5xQ4pLDbBlXdLVl6aZ5laNPNa7dtR6QQMlMMSfjTG2qXalXyw1Dem4kgLOQEoRNMRzKizCqbNg/LuywpajHNFAchDkKSyqXITZJLKrTK97b/bRITCaN+nJIz3tIxeXu23jjsu96bVyOQXhIHadL9MSVrBsmvGm+766coTJZTPJYIW1nWVO2i77t41gnoseWQlHDP6ky/KswkiJYf04La3SeoASGLJ9FuipJvstm38MNec6X6gIVISoirxOtib7+WOGtEzO1DNC5PUCpWj8JkeO+78tktVLyuNA8xSSWy8IIMzbeya3svMdsdFPkSyy+oRGcj8Ocm8bX0738les8vkDHxiygMUmYbwSI2/qaqscEsca0gljxQmgCZq5KtiSeZO7tXiu2PTRIyUSFTZXmK7eDHsyy4/F1jqFwOXJOE10FjkRYs7SxbJ91htqbXHUaGaVeoUbYyPBvLeUJG8XV4YfvrLWyZ/dvOPm85Zpin9EMiIlTWNtYpb77a563p0+4OV/Me4S/R4fBYKkVN4+fS3pqb1Tn4j37Vt6w3q3rOtMAcsc8TWmUvC610BJFg9NPP4tJkPXW+Lrwupa+jZBDk8c+QEBOJllIqLIhXXour201hy+ORnDGGZxrHOyQLbwxlgyrsrvTp7byZ+LxpObyg/l27EYFI3nfQxTYV1tfHTU/cDhI5+M4BlMm0gijKsb8GZMLrC99crqORQSLh+kMbyyNnOVUPUY2eC8Kxfnpuz5cxj9SvZtYNVbV00WKutan5HM93UM0wSDlb8ITSgJtKqcQmUTS3dJaxDEQyxOe4gIscMRFPFA34vhp8laJBxJub4uPHmyvETdJ4Xvh8V266jy2jNlH6OWXL6aPO012b6alcH3M+D/ADJgiEJBLIajUho06ETZtCh3bobvUP8A3EhMiWcyXqZyIcbxtIHk/iumtMp/HIaARdmR5llkZUksEwESd3/po48PjlNnmHKQUWYhpo338Xh+FJ6b4IiMCybIhJysSQrMtqwVXtfTUpchenlLIRPNlau2Vq39S/GlotMX+Vhg9Y4lmBv6hby22raEyaur7Ve2rJKF5gH14jxkU2VEVD9ImNtv5Kl11FOWRVGvExXhdFlFtdqr1JOqFV2vTb7hzWuM2Lediy2aQY00PV3dvD5VrOtgnnvpwl7ny3xxIIfU8AH9Qqvp+D2ffTdet8s888hK0mZVe+/fQL1WTUT69ol6zrObVXps6OftEATTSs4gmGOPNlkZZUyMRToWm968t+2se8xcYTUMUEcWRyImErkzFnaxvEarAXjT1F4nNm4UvqwkkVMWmswkL3EheDWvcrmycshZjGCG8oRAowV7ul3fdvHQd+P/2Q==";var a=document.createElement("canvas");a.width=128,a.height=128,document.body.appendChild(a),console.log("WTFTTFTF"),browser.webRequest.onBeforeRequest.addListener((function(A){var t=document.createElement("canvas");t.width=128,t.height=128,document.body.appendChild(t);let e=browser.webRequest.filterResponseData(A.requestId);return e.ondata=async o=>{var i="data:image/jpeg;base64,"+btoa(String.fromCharCode(...new Uint8Array(o.data))),l=new Image;await async function(A,t){return new Promise((e,n)=>{t.onload=()=>e(t),t.onerror=n,t.src=A})}(i,l),t.width=l.width,t.height=l.height,t.getContext("2d").drawImage(l,0,0);var f=t.getContext("2d"),u=r.getContext("2d"),d=a.getContext("2d"),{width:c,height:s}=t,h=f.getImageData(0,0,c,s),m=u.getImageData(0,0,c,s),p=d.createImageData(c,s),b=n(h.data,m.data,p.data,c,s,{threshold:.1});console.log(b),a.toBlob((function(t){browser.tabs.query({active:!0,currentWindow:!0}).then((function(e){browser.tabs.sendMessage(e[0].id,{command:URL.createObjectURL(t),url:A.url,diff:b})})).catch((function(A){console.error("Could not beastify: "+A)}))}),"image/png"),e.write(o.data),e.close()},e.onstop=A=>{},{}}),{urls:["https://pr0gramm.com/*","https://thumb.pr0gramm.com/*"],types:["image"]},["blocking"])},function(A,t,e){"use strict";A.exports=function(A,t,e,a,l,f){if(!r(A)||!r(t)||e&&!r(e))throw new Error("Image data: Uint8Array, Uint8ClampedArray or Buffer expected.");if(A.length!==t.length||e&&e.length!==A.length)throw new Error("Image sizes do not match.");if(A.length!==a*l*4)throw new Error("Image data size does not match width/height.");f=Object.assign({},n,f);const u=a*l,d=new Uint32Array(A.buffer,A.byteOffset,u),h=new Uint32Array(t.buffer,t.byteOffset,u);let m=!0;for(let A=0;A<u;A++)if(d[A]!==h[A]){m=!1;break}if(m){if(e&&!f.diffMask)for(let t=0;t<u;t++)s(A,4*t,f.alpha,e);return 0}const p=35215*f.threshold*f.threshold;let b=0;for(let n=0;n<l;n++)for(let r=0;r<a;r++){const u=4*(n*a+r),d=i(A,t,u,u);Math.abs(d)>p?f.includeAA||!o(A,r,n,a,l,t)&&!o(t,r,n,a,l,A)?(e&&c(e,u,...d<0&&f.diffColorAlt||f.diffColor),b++):e&&!f.diffMask&&c(e,u,...f.aaColor):e&&(f.diffMask||s(A,u,f.alpha,e))}return b};const n={threshold:.1,includeAA:!1,alpha:.1,aaColor:[255,255,0],diffColor:[255,0,0],diffColorAlt:null,diffMask:!1};function r(A){return ArrayBuffer.isView(A)&&1===A.constructor.BYTES_PER_ELEMENT}function o(A,t,e,n,r,o){const l=Math.max(t-1,0),f=Math.max(e-1,0),u=Math.min(t+1,n-1),d=Math.min(e+1,r-1),c=4*(e*n+t);let s,h,m,p,b=t===l||t===u||e===f||e===d?1:0,g=0,v=0;for(let r=l;r<=u;r++)for(let o=f;o<=d;o++){if(r===t&&o===e)continue;const a=i(A,A,c,4*(o*n+r),!0);if(0===a){if(b++,b>2)return!1}else a<g?(g=a,s=r,h=o):a>v&&(v=a,m=r,p=o)}return 0!==g&&0!==v&&(a(A,s,h,n,r)&&a(o,s,h,n,r)||a(A,m,p,n,r)&&a(o,m,p,n,r))}function a(A,t,e,n,r){const o=Math.max(t-1,0),a=Math.max(e-1,0),i=Math.min(t+1,n-1),l=Math.min(e+1,r-1),f=4*(e*n+t);let u=t===o||t===i||e===a||e===l?1:0;for(let r=o;r<=i;r++)for(let o=a;o<=l;o++){if(r===t&&o===e)continue;const a=4*(o*n+r);if(A[f]===A[a]&&A[f+1]===A[a+1]&&A[f+2]===A[a+2]&&A[f+3]===A[a+3]&&u++,u>2)return!0}return!1}function i(A,t,e,n,r){let o=A[e+0],a=A[e+1],i=A[e+2],c=A[e+3],s=t[n+0],h=t[n+1],m=t[n+2],p=t[n+3];if(c===p&&o===s&&a===h&&i===m)return 0;c<255&&(c/=255,o=d(o,c),a=d(a,c),i=d(i,c)),p<255&&(p/=255,s=d(s,p),h=d(h,p),m=d(m,p));const b=l(o,a,i),g=l(s,h,m),v=b-g;if(r)return v;const y=f(o,a,i)-f(s,h,m),E=u(o,a,i)-u(s,h,m),x=.5053*v*v+.299*y*y+.1957*E*E;return b>g?-x:x}function l(A,t,e){return.29889531*A+.58662247*t+.11448223*e}function f(A,t,e){return.59597799*A-.2741761*t-.32180189*e}function u(A,t,e){return.21147017*A-.52261711*t+.31114694*e}function d(A,t){return 255+(A-255)*t}function c(A,t,e,n,r){A[t+0]=e,A[t+1]=n,A[t+2]=r,A[t+3]=255}function s(A,t,e,n){const r=d(l(A[t+0],A[t+1],A[t+2]),e*A[t+3]/255);c(n,t,r,r,r)}}]);